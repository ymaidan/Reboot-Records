(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("themeToggle");if(!i){console.error("Theme toggle button not found");return}const o=document.getElementById("themeIcon"),n=document.getElementById("themeText"),s=localStorage.getItem("theme"),e=window.matchMedia("(prefers-color-scheme: dark)").matches;s==="light"?d():t(),i.addEventListener("click",()=>{const r=document.body,c=r.classList.contains("dark-theme");r.classList.toggle("dark-theme"),r.classList.toggle("light-theme"),o.textContent=c?"☀️":"🌙",n.textContent=c?"Light":"Dark",localStorage.setItem("theme",c?"light":"dark"),document.dispatchEvent(new CustomEvent("themeChanged",{detail:c?"light":"dark"}))});function t(){document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),localStorage.setItem("theme","dark"),o&&(o.textContent="🌙"),n&&(n.textContent="Dark"),document.dispatchEvent(new CustomEvent("themeChanged",{detail:"dark"}))}function d(){document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),localStorage.setItem("theme","light"),o&&(o.textContent="☀️"),n&&(n.textContent="Light"),document.dispatchEvent(new CustomEvent("themeChanged",{detail:"light"}))}});document.addEventListener("DOMContentLoaded",()=>{const i=localStorage.getItem("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,n=i||(o?"dark":"light"),s=document.body,e=document.getElementById("themeIcon"),t=document.getElementById("themeText");n==="light"?(s.classList.remove("dark-theme"),s.classList.add("light-theme"),e&&(e.textContent="☀️"),t&&(t.textContent="Light")):(s.classList.remove("light-theme"),s.classList.add("dark-theme"),e&&(e.textContent="🌙"),t&&(t.textContent="Dark")),document.dispatchEvent(new CustomEvent("themeChanged",{detail:n})),document.addEventListener("themeChanged",d=>{console.log("Theme changed to:",d.detail),setTimeout(()=>{window.fetchAuditRatio&&window.fetchAuditRatio(),window.fetchSkills&&window.fetchSkills(),window.fetchXPProgress&&window.fetchXPProgress(),window.audits&&window.audits().then(r=>{window.auditsFiller&&window.auditsFiller(r)})},300)})});
